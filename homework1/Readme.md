# My Home work 1

## Проектирование БД

Проект представляет собой базу данных сделок компании с клиентами юр.лицами.
Сделки однотипны, относятся к производным финансовым инструментам вида Валютный Форвард.

Клиенты представлены в таблице **Clients**.

Сторона, где сделки процессятся, и с которой заключаются сдеки - Processing Org, в таблице **ProcOrg**.

Может быть несколько процессинговых организаций (Proc.Org).

И у клиентов и у процессинговых организаций есть адрес, адресов может быть несколько и они различаются по типам, например, фактический и юридический адреса.

Адреса в таблице - **Adresses**.
Чтобы обеспечить корректную связь многие ко многим между адресами и клиентами, а также между адресами и проц.орг, созданы таблицы: **ClientAdress** и **ProcOrgAdress**.

Между клиентом и проц.огр-ей заключается договор **Agreement**.
В рамках договора заключаются фактические сделки.

И у клиентов и у процессинговых организаций есть счета в банке для проведения расчетов по сделке. Счетов может быть несколько.
Расчетные счета - в таблице **PaymentInfo**.

Чтобы обеспечить корректную связь многие ко многим между счетами и клиентами, а также между счетами и проц.орг, созданы таблицы: **ClientAccounts**, **ProcOrgAccounts**.

Сделки - в таблице **Deals**.
У сделки есть разные статусы - **DealStatus**.
В сделке должна быть указана валютная пара - **CurrencyPair**.
К каждой валютной паре заводится курс - **Rates**.
В сделке указывается договор (Agreement), платежные инструкции клиента и проц.орг.

Параметры платежей по сделке формируются в таблице **DealTransfer**, где указывается направление платежа, т.е. кто платит - клиент или проц.организация; 
платежные инструкции клиента и проц.огранизации, которые могут отличаться от тех, что в сделке, т.к. они могут быть присвоены вручную;
статус платежа; плановая дата платежа - valueDate; фактическая дата платежа - settledate, сумма платежа.

После того, как платеж сформирован, он отправляется в другую систему для проведения расчетов. 
По результатам мы получаем статус платежа и записываем его как статус в таблице DealTransfer.

