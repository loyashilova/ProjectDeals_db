# Домашнее задание по лекции 18

## Репликация

**1. Физическая репликация**

Настроить физическую репликации между двумя кластерами базы данных

1. Репликация должна работать использую "слот репликации"

Создаем слот репликации на мастере:
![img.png](img.png)

Настраиваем слот репликации на реплике
![img_9.png](img_9.png)

Слот репликации активен на мастере
![img_10.png](img_10.png)

2. Реплика должна отставать от мастера на 5 минут

![img_3.png](img_3.png)

3. Проверяем репликацию

Добавим запись 110 на мастере:
![img_5.png](img_5.png)

Проверяем, что запись не появилась на реплике, т.к. настроено отставание на 5 мин.:

![img_6.png](img_6.png)

Через 5 мин значение появилось на реплике:
![img_8.png](img_8.png)

Настройки репликации на основном сервере:

![img_7.png](img_7.png)

**2. Логическая репликация**

Создать на первом кластере базу данных, таблицу и наполнить ее данными (на ваше усмотрение)

На нем же создать публикацию этой таблицы
![img_11.png](img_11.png)

![img_12.png](img_12.png)

![img_14.png](img_14.png)


На новом кластере подписаться на эту публикацию

![img_15.png](img_15.png)

Убедиться что она среплицировалась. 

Добавляем запись в таблицу на основном сервере:
![img_16.png](img_16.png)

Запись появилась на логической реплике
![img_17.png](img_17.png)